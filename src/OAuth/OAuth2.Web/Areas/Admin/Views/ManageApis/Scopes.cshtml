@model AlwaysMoveForward.OAuth2.Common.DomainModel.APIManagement.ApiResources;
@using AlwaysMoveForward.OAuth2.Common.DomainModel.APIManagement;
@{
	Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
	ViewBag.SelectedTab = 6;
}

@section headerPlugins
	{
	<script src="~/js/Controllers/ApiResourceController.js" type="text/javascript"></script>
}

@{
	Dictionary<String, String> readonlyAttributes = new Dictionary<string, string>();
	readonlyAttributes.Add("class", "readonly");
	readonlyAttributes.Add("disabled", "true");

}
<div class="bodyContent" ng-controller="ApiResourceController">
	<div class="bodyContent" ng-init="getById(@Model.Id);">
		<div class="contentPageTitle">
			<label>Manage Scopes</label>
		</div>
		<input type="hidden" name="selectedApi" value="{{currentApiResource.id}}" />
		<p>
			Resource Name: <span>{{currentApiResource.name}}</span>
		</p>
		<p>
			Display Name: <span>{{currentApiResource.displayName}}</span>
		</p>
		<p>
			Description: <span>{{currentApiResource.description}}</span>
		</p>
		<p>
			Enabled: <span>{{currentApiResource.enabled}}</span>
		</p>

		<div class="panel-heading">
			<h3 class="panel-title">Secrets</h3>
		</div>
		<div class="panel-body">
			<table class="table table-striped">
				<tbody>
					<tr ng-repeat="scope in currentApiResource.apiScopes">
						<td>{{scope.name}}</td>
						<td>{{scope.description}}</td>
						<td>
							<a ng-click="deleteApiScope(currentApiResource.id, scope.id);">
								<img src="~/images/action_delete.png" class="deleteList" alt="" />
							</a>
						</td>
					</tr>
					<tr ng-form="newApiScopeForm">
						<td><input type="text" name="newApiScopeName" ng-model="apiScope.name" required /></td>
						<td><input type="text" name="newApiScopeDescription" ng-model="apiScope.description" required /></td>
						<td><input type="button" class="btn btn-primary" value="Add Scope" ng-click="addApiScope(currentApiResource.id);" /></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>




