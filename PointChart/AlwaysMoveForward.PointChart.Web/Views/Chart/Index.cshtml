@{
    ViewBag.Title = "Charts";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section headerPlugins
{
    <script src="@Url.Content("~/Scripts/Controllers/ChartController.js")" type="text/javascript"></script>
}
<br />
<div class="bodyContent" ng-controller="ChartController" ng-init="getCharts();">
    <div ng-repeat="pointEarner in charts">
        <b>{{ pointEarner.FirstName }} {{ pointEarner.LastName }}</b>
        <table class="tableBase">
            <thead>
                <tr class="tableHeader">
                    <td>Name</td>
                    <td>Points Earned</td>
                    <td>Action</td>
                </tr>
            </thead>
            <tbody>
            <tbody>
                <tr ng-repeat="chart in pointEarner.Charts" ng-class-even="tableRow1" ng-class-odd="tablerow2">
                    <td><input type="text" name="chartName" value="{{ chart.Name }}" ng-blur="updateChart(pointEarner)" /></td>
                    <td>{{ chart.PointsEarned }}</td>
                    <td>
                        <a class="readonly" ng-click="delete('{{ pointEarner.Id }}');">
                            <img src="/Content/images/action_delete.png" class="deleteList" alt="" />
                        </a>
                    </td>
                </tr>
                <tr ng-form="newPointEarnerForm">
                    <td><input type="text" name="chartName" ng-model="newChart.Name" required /></td>
                    <td><input type="button" value="Add Item" ng-disabled="newChart.$invalid" ng-click="addChart();" /></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
